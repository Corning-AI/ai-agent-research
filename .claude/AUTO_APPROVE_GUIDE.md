# ğŸ¤– Claude Code è‡ªåŠ¨æ‰¹å‡†ç³»ç»Ÿ

## ğŸ“– æ¦‚è¿°

è¿™ä¸ªç³»ç»Ÿå…è®¸æ‚¨é…ç½®Claude Codeè‡ªåŠ¨æ‰¹å‡†æŸäº›æ“ä½œï¼Œæ— éœ€æ¯æ¬¡éƒ½æ‰‹åŠ¨ç¡®è®¤ã€‚ç³»ç»Ÿæä¾›äº†å¤šä¸ªå®‰å…¨çº§åˆ«ï¼Œä»å®Œå…¨æ‰‹åŠ¨åˆ°å®Œå…¨è‡ªåŠ¨ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦çµæ´»åˆ‡æ¢ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯ç”¨è‡ªåŠ¨æ‰¹å‡†ï¼ˆå®‰å…¨æ¨¡å¼ï¼‰
```bash
claude-auto enable safe
```

### ç¦ç”¨è‡ªåŠ¨æ‰¹å‡†
```bash
claude-auto disable
```

### æŸ¥çœ‹å½“å‰çŠ¶æ€
```bash
claude-auto status
```

---

## ğŸ›¡ï¸ å®‰å…¨æ¨¡å¼è¯´æ˜

### 1. ğŸ”’ Disabledï¼ˆç¦ç”¨ï¼‰
**è¯´æ˜**ï¼šå®Œå…¨ç¦ç”¨è‡ªåŠ¨æ‰¹å‡†ï¼Œæ‰€æœ‰æ“ä½œéƒ½éœ€è¦æ‰‹åŠ¨ç¡®è®¤ã€‚

**é€‚ç”¨åœºæ™¯**ï¼š
- å¤„ç†æ•æ„Ÿæ•°æ®æ—¶
- åœ¨ç”Ÿäº§ç¯å¢ƒå·¥ä½œæ—¶
- ä¸ç†Ÿæ‚‰çš„é¡¹ç›®

**å‘½ä»¤**ï¼š
```bash
claude-auto disable
# æˆ–
claude-auto off
```

---

### 2. âœ… Safeï¼ˆå®‰å…¨æ¨¡å¼ï¼‰- æ¨è

**è¯´æ˜**ï¼šä»…è‡ªåŠ¨æ‰¹å‡†åªè¯»æ“ä½œï¼Œæ‰€æœ‰ä¿®æ”¹æ“ä½œéœ€è¦ç¡®è®¤ã€‚

**è‡ªåŠ¨æ‰¹å‡†çš„æ“ä½œ**ï¼š
- âœ… `Read` - è¯»å–æ–‡ä»¶
- âœ… `Glob` - æ–‡ä»¶æ¨¡å¼åŒ¹é…
- âœ… `Grep` - å†…å®¹æœç´¢

**éœ€è¦ç¡®è®¤çš„æ“ä½œ**ï¼š
- âŒ `Write` - å†™å…¥æ–‡ä»¶
- âŒ `Edit` - ç¼–è¾‘æ–‡ä»¶
- âŒ `Bash` - æ‰§è¡Œå‘½ä»¤
- âŒ å…¶ä»–æ‰€æœ‰ä¿®æ”¹æ“ä½œ

**é€‚ç”¨åœºæ™¯**ï¼š
- æ—¥å¸¸å¼€å‘ï¼ˆé»˜è®¤æ¨èï¼‰
- ä»£ç å®¡æŸ¥
- æ¢ç´¢é™Œç”Ÿä»£ç åº“

**å‘½ä»¤**ï¼š
```bash
claude-auto enable safe
# æˆ–
claude-auto safe
```

---

### 3. âš™ï¸ Moderateï¼ˆé€‚ä¸­æ¨¡å¼ï¼‰

**è¯´æ˜**ï¼šè‡ªåŠ¨æ‰¹å‡†å¸¸è§çš„å¼€å‘æ“ä½œå’Œå®‰å…¨å‘½ä»¤ã€‚

**è‡ªåŠ¨æ‰¹å‡†çš„æ“ä½œ**ï¼š
- âœ… `Read`, `Glob`, `Grep` - æ‰€æœ‰è¯»å–æ“ä½œ
- âœ… `Edit` - ç¼–è¾‘ç°æœ‰æ–‡ä»¶
- âœ… å®‰å…¨çš„Bashå‘½ä»¤ï¼š
  - `git` å‘½ä»¤ï¼ˆstatus, diff, logç­‰ï¼‰
  - `npm` å‘½ä»¤
  - `python3` è„šæœ¬
  - `ls`, `pwd`, `cat`, `echo`
  - `mkdir`, `cp`, `mv`

**éœ€è¦ç¡®è®¤çš„æ“ä½œ**ï¼š
- âŒ `Write` - åˆ›å»ºæ–°æ–‡ä»¶
- âŒ å±é™©çš„Bashå‘½ä»¤ï¼ˆrm, sudoç­‰ï¼‰
- âŒ ç³»ç»Ÿçº§æ“ä½œ

**é€‚ç”¨åœºæ™¯**ï¼š
- æ´»è·ƒå¼€å‘é˜¶æ®µ
- é¢‘ç¹ç¼–è¾‘ä»£ç æ—¶
- ä¿¡ä»»çš„é¡¹ç›®

**å‘½ä»¤**ï¼š
```bash
claude-auto enable moderate
# æˆ–
claude-auto moderate
```

---

### 4. ğŸš€ Aggressiveï¼ˆæ¿€è¿›æ¨¡å¼ï¼‰

**è¯´æ˜**ï¼šè‡ªåŠ¨æ‰¹å‡†å‡ ä¹æ‰€æœ‰æ“ä½œï¼Œä»…æ‹’ç»æ˜ç¡®å±é™©çš„å‘½ä»¤ã€‚

**è‡ªåŠ¨æ‰¹å‡†çš„æ“ä½œ**ï¼š
- âœ… æ‰€æœ‰è¯»å–æ“ä½œ
- âœ… æ‰€æœ‰å†™å…¥å’Œç¼–è¾‘æ“ä½œ
- âœ… å¤§å¤šæ•°Bashå‘½ä»¤

**ä»éœ€ç¡®è®¤çš„æ“ä½œ**ï¼š
- âŒ `rm -rf` - é€’å½’å¼ºåˆ¶åˆ é™¤
- âŒ `sudo` - ç®¡ç†å‘˜æƒé™
- âŒ `chmod 777` - ä¸å®‰å…¨çš„æƒé™
- âŒ `dd` - ç£ç›˜æ“ä½œ

**é€‚ç”¨åœºæ™¯**ï¼š
- åŸå‹å¼€å‘
- å¿«é€Ÿå®éªŒ
- å®Œå…¨ä¿¡ä»»çš„ç¯å¢ƒ

**âš ï¸ è­¦å‘Š**ï¼šæœ‰ä¸­ç­‰é£é™©ï¼Œå¯èƒ½ä¼šæ„å¤–ä¿®æ”¹æˆ–åˆ é™¤æ–‡ä»¶

**å‘½ä»¤**ï¼š
```bash
claude-auto enable aggressive
# æˆ–
claude-auto aggressive
```

---

### 5. ğŸ’¥ YOLOï¼ˆä½ åªæ´»ä¸€æ¬¡ï¼‰

**è¯´æ˜**ï¼šæ‰¹å‡†æ‰€æœ‰æ“ä½œï¼Œæ— ä»»ä½•é™åˆ¶ã€‚

**è‡ªåŠ¨æ‰¹å‡†çš„æ“ä½œ**ï¼š
- âœ… **æ‰€æœ‰æ“ä½œ**ï¼ŒåŒ…æ‹¬å±é™©å‘½ä»¤

**âš ï¸ æåº¦å±é™©**ï¼š
- å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±
- å¯èƒ½ä¼šç ´åç³»ç»Ÿ
- å¯èƒ½ä¼šæ³„éœ²æ•æ„Ÿä¿¡æ¯
- **ä»…åœ¨å®Œå…¨éš”ç¦»çš„æµ‹è¯•ç¯å¢ƒä½¿ç”¨**

**å‘½ä»¤**ï¼š
```bash
claude-auto enable yolo
# æˆ–
claude-auto yolo
```

ä½¿ç”¨YOLOæ¨¡å¼æ—¶ä¼šæ˜¾ç¤ºè­¦å‘Šæç¤ºã€‚

---

## ğŸ¯ å¸¸ç”¨å‘½ä»¤

### åŸºæœ¬æ“ä½œ
```bash
# æŸ¥çœ‹çŠ¶æ€
claude-auto status
claude-auto

# å¯ç”¨ï¼ˆé»˜è®¤safeæ¨¡å¼ï¼‰
claude-auto on
claude-auto enable

# ç¦ç”¨
claude-auto off
claude-auto disable

# å¿«é€Ÿåˆ‡æ¢å¯ç”¨/ç¦ç”¨
claude-auto toggle
```

### åˆ‡æ¢æ¨¡å¼
```bash
# å¯ç”¨å¹¶è®¾ç½®æ¨¡å¼
claude-auto enable safe
claude-auto enable moderate
claude-auto enable aggressive
claude-auto enable yolo

# ç›´æ¥è®¾ç½®æ¨¡å¼ï¼ˆå¿«æ·æ–¹å¼ï¼‰
claude-auto safe
claude-auto moderate
claude-auto aggressive
claude-auto yolo
```

### æŸ¥çœ‹å¸®åŠ©
```bash
claude-auto help
claude-auto -h
claude-auto --help
```

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
/Users/xiaobotu/Documents/ai_agent/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ settings.json                    # Claude Codeé…ç½®
â”‚   â”œâ”€â”€ auto-approve-config.json         # è‡ªåŠ¨æ‰¹å‡†é…ç½®ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ auto-approve.log                 # æ‰¹å‡†æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ claude-auto-approve.sh           # ç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ AUTO_APPROVE_GUIDE.md           # æœ¬æ–‡æ¡£
â”‚   â””â”€â”€ hooks/
â”‚       â””â”€â”€ auto-approve.sh              # Hookè„šæœ¬
```

---

## ğŸ”§ é«˜çº§é…ç½®

### å¯ç”¨æ—¥å¿—è®°å½•

å¦‚æœæ‚¨æƒ³è®°å½•æ‰€æœ‰è‡ªåŠ¨æ‰¹å‡†çš„æ“ä½œï¼š

```bash
export CLAUDE_AUTO_APPROVE_LOG=true
```

æ—¥å¿—å°†ä¿å­˜åœ¨ï¼š`.claude/auto-approve.log`

### è‡ªå®šä¹‰ç™½åå•

ç¼–è¾‘ `.claude/settings.json` ä¸­çš„ `permissions.allow` æ•°ç»„ï¼š

```json
{
  "permissions": {
    "allow": [
      "Bash(your-custom-command:*)",
      "Read(/your/custom/path/**)"
    ]
  }
}
```

### è‡ªå®šä¹‰é»‘åå•

ç¼–è¾‘ `.claude/settings.json` ä¸­çš„ `permissions.deny` æ•°ç»„ï¼š

```json
{
  "permissions": {
    "deny": [
      "Read(**/.env)",
      "Bash(dangerous-command:*)"
    ]
  }
}
```

---

## ğŸ§ª æµ‹è¯•è‡ªåŠ¨æ‰¹å‡†

### æµ‹è¯•è¯»å–æ“ä½œï¼ˆSafeæ¨¡å¼ï¼‰

1. å¯ç”¨safeæ¨¡å¼ï¼š
   ```bash
   claude-auto safe
   ```

2. åœ¨Claude Codeä¸­å°è¯•è¯»å–æ–‡ä»¶ï¼Œåº”è¯¥è‡ªåŠ¨æ‰¹å‡†

3. å°è¯•ç¼–è¾‘æ–‡ä»¶ï¼Œåº”è¯¥è¦æ±‚ç¡®è®¤

### æµ‹è¯•ç¼–è¾‘æ“ä½œï¼ˆModerateæ¨¡å¼ï¼‰

1. å¯ç”¨moderateæ¨¡å¼ï¼š
   ```bash
   claude-auto moderate
   ```

2. åœ¨Claude Codeä¸­å°è¯•ç¼–è¾‘æ–‡ä»¶ï¼Œåº”è¯¥è‡ªåŠ¨æ‰¹å‡†

3. å°è¯•åˆ›å»ºæ–°æ–‡ä»¶ï¼Œåº”è¯¥è¦æ±‚ç¡®è®¤ï¼ˆå–å†³äºè·¯å¾„ï¼‰

---

## âš ï¸ å®‰å…¨æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **é»˜è®¤ä½¿ç”¨Safeæ¨¡å¼**
   - æ—¥å¸¸å·¥ä½œä½¿ç”¨safeæ¨¡å¼
   - åªåœ¨éœ€è¦æ—¶ä¸´æ—¶åˆ‡æ¢åˆ°higheræ¨¡å¼

2. **é¡¹ç›®çº§é…ç½®**
   - ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„å®‰å…¨çº§åˆ«
   - æ•æ„Ÿé¡¹ç›®ä¿æŒç¦ç”¨æˆ–safeæ¨¡å¼

3. **å®šæœŸæ£€æŸ¥**
   - å®šæœŸè¿è¡Œ `claude-auto status` æ£€æŸ¥å½“å‰æ¨¡å¼
   - å®Œæˆå·¥ä½œååˆ‡å›safeæ¨¡å¼æˆ–ç¦ç”¨

4. **ä»£ç å®¡æŸ¥å‰ç¦ç”¨**
   - åœ¨è¿›è¡Œé‡è¦æ“ä½œå‰ä¸´æ—¶ç¦ç”¨è‡ªåŠ¨æ‰¹å‡†
   - ç¡®ä¿å…³é”®æ›´æ”¹ç»è¿‡æ‰‹åŠ¨å®¡æ ¸

### âŒ é¿å…çš„åšæ³•

1. **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨YOLOæ¨¡å¼**
2. **ä¸è¦åœ¨å¤„ç†æ•æ„Ÿæ•°æ®æ—¶ä½¿ç”¨aggressiveæ¨¡å¼**
3. **ä¸è¦é•¿æœŸä¿æŒYOLOæˆ–aggressiveæ¨¡å¼**
4. **ä¸è¦åœ¨ä¸ç†Ÿæ‚‰çš„é¡¹ç›®ä¸­ä½¿ç”¨é«˜é£é™©æ¨¡å¼**

---

## ğŸ” æ•…éšœæ’é™¤

### è‡ªåŠ¨æ‰¹å‡†ä¸å·¥ä½œï¼Ÿ

**æ£€æŸ¥æ¸…å•**ï¼š

1. âœ… ç¡®è®¤æ¨¡å¼å·²å¯ç”¨ï¼š
   ```bash
   claude-auto status
   ```

2. âœ… æ£€æŸ¥hookè„šæœ¬æƒé™ï¼š
   ```bash
   ls -l /Users/xiaobotu/Documents/ai_agent/.claude/hooks/auto-approve.sh
   ```
   åº”è¯¥æœ‰æ‰§è¡Œæƒé™ï¼ˆ`-rwxr-xr-x`ï¼‰

3. âœ… æŸ¥çœ‹Claude Codeæ—¥å¿—ï¼š
   æ£€æŸ¥æ˜¯å¦æœ‰hookæ‰§è¡Œé”™è¯¯

4. âœ… æµ‹è¯•hookè„šæœ¬ï¼š
   ```bash
   echo '{"tool_name":"Read","tool_input":{}}' | /Users/xiaobotu/Documents/ai_agent/.claude/hooks/auto-approve.sh
   ```

### æ„å¤–æ‰¹å‡†äº†ä¸åº”è¯¥æ‰¹å‡†çš„æ“ä½œï¼Ÿ

1. ç«‹å³é™ä½å®‰å…¨çº§åˆ«æˆ–ç¦ç”¨ï¼š
   ```bash
   claude-auto safe
   # æˆ–
   claude-auto disable
   ```

2. æ£€æŸ¥ `.claude/settings.json` ä¸­çš„ç™½åå•é…ç½®

3. å¦‚æœéœ€è¦ï¼Œæ·»åŠ åˆ°é»‘åå•

---

## ğŸ“Š æ¨¡å¼å¯¹æ¯”è¡¨

| æ“ä½œç±»å‹ | Disabled | Safe | Moderate | Aggressive | YOLO |
|---------|----------|------|----------|------------|------|
| Readæ–‡ä»¶ | âŒ | âœ… | âœ… | âœ… | âœ… |
| Editæ–‡ä»¶ | âŒ | âŒ | âœ… | âœ… | âœ… |
| Writeæ–‡ä»¶ | âŒ | âŒ | âŒ | âœ… | âœ… |
| å®‰å…¨Bash | âŒ | âŒ | âœ… | âœ… | âœ… |
| ä¸€èˆ¬Bash | âŒ | âŒ | âŒ | âœ… | âœ… |
| å±é™©å‘½ä»¤ | âŒ | âŒ | âŒ | âŒ | âœ… |
| é£é™©çº§åˆ« | æ—  | æä½ | ä½ | ä¸­ | æé«˜ |

---

## ğŸ“ ä½¿ç”¨åœºæ™¯å»ºè®®

### åœºæ™¯1ï¼šæ—¥å¸¸å¼€å‘
```bash
claude-auto safe
```
å¤§éƒ¨åˆ†æ—¶é—´ä¿æŒsafeæ¨¡å¼ï¼Œéœ€è¦æ—¶æ‰‹åŠ¨ç¡®è®¤å†™å…¥æ“ä½œã€‚

### åœºæ™¯2ï¼šå¿«é€ŸåŸå‹
```bash
claude-auto moderate
```
å¼€å‘åŸå‹æ—¶ä½¿ç”¨moderateæ¨¡å¼ï¼ŒåŠ å¿«è¿­ä»£é€Ÿåº¦ã€‚

### åœºæ™¯3ï¼šé‡æ„ä»£ç 
```bash
claude-auto moderate
```
é‡æ„æ—¶ä½¿ç”¨moderateæ¨¡å¼ï¼Œä½†å®šæœŸæ£€æŸ¥å˜æ›´ã€‚

### åœºæ™¯4ï¼šä»£ç å®¡æŸ¥
```bash
claude-auto safe
# æˆ–
claude-auto disable
```
å®¡æŸ¥ä»£ç æ—¶ä½¿ç”¨safeæ¨¡å¼æˆ–ç¦ç”¨ï¼Œç¡®ä¿ä»”ç»†æ£€æŸ¥æ¯ä¸ªæ“ä½œã€‚

### åœºæ™¯5ï¼šæ¼”ç¤º/æ•™å­¦
```bash
claude-auto moderate
```
æ¼”ç¤ºæ—¶ä½¿ç”¨moderateæ¨¡å¼ï¼Œå‡å°‘ä¸­æ–­ã€‚

### åœºæ™¯6ï¼šå®éªŒç¯å¢ƒ
```bash
claude-auto aggressive
```
åœ¨éš”ç¦»çš„å®éªŒç¯å¢ƒä¸­å¯ä»¥ä½¿ç”¨aggressiveæ¨¡å¼ã€‚

---

## ğŸ”— ç›¸å…³èµ„æº

- **Claude Codeæ–‡æ¡£**: [å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude/docs)
- **Hooksæ–‡æ¡£**: [HooksæŒ‡å—](https://docs.anthropic.com/claude/docs/hooks)
- **æƒé™ç³»ç»Ÿ**: [æƒé™é…ç½®](https://docs.anthropic.com/claude/docs/permissions)

---

## ğŸ’¡ ä¸“ä¸šæç¤º

### Tip 1: ä¼šè¯çº§ä¸´æ—¶æ¨¡å¼
```bash
# ä¸´æ—¶å¯ç”¨aggressiveæ¨¡å¼
claude-auto aggressive

# å®Œæˆä»»åŠ¡åç«‹å³æ¢å¤
claude-auto safe
```

### Tip 2: ä¸Gité…åˆ
```bash
# å¼€å‘å‰
claude-auto moderate

# æäº¤å‰æ£€æŸ¥å˜æ›´
git diff

# æ»¡æ„åæäº¤
git add .
git commit -m "..."

# æäº¤åå¯ä»¥åˆ‡å›safe
claude-auto safe
```

### Tip 3: é¡¹ç›®ç‰¹å®šé…ç½®
ä¸åŒé¡¹ç›®å¯ä»¥æœ‰ä¸åŒçš„ `.claude/settings.json` é…ç½®ï¼Œäº’ä¸å½±å“ã€‚

### Tip 4: ç¯å¢ƒå˜é‡æ§åˆ¶
```bash
# ä¸´æ—¶è®¾ç½®é»˜è®¤æ¨¡å¼
export CLAUDE_AUTO_APPROVE_MODE=moderate
```

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2026-01-05
**ä½œè€…**: Claude Code Auto-Approval System
**è®¸å¯**: MIT
